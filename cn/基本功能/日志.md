## 介绍

为了帮助你了解应用程序的运行状况，Goravel 提供了强大的日志服务，可以将日志消息、系统错误记录到文件中或其他通道。

该模块可以使用 `facades.Log` 进行操作，`facades.Log` 是知名日志组件 [sirupsen/logrus](https://github.com/sirupsen/logrus) 的一个实例，使用方法与 `sirupsen/logrus` 完全一致。

## 配置

在 `config/logging.php` 中进行所有自定义配置。允许配置不同的日志通道，可以进入配置文件进行查看。

`Goravel` 默认使用 `stack` 通道记录日志。`stack` 允许日志转发到多个通道中。

## 可用的通道驱动

名称      |  描述
-------- | -------------
`stack`  |  允许使用多个通道
`single` |  单日志文件
`daily`  |  每天一个日志文件
`custom` |  自定义驱动

## 写日志消息

可用级别：
```
facades.Log.Trace($message)
facades.Log.Debug($message)
facades.Log.Info($message)
facades.Log.Warn($message)
facades.Log.Error($message)
facades.Log.Fatal($message)
facades.Log.Panic($message)
```

## 上下文信息

可以将上下文数据数组传递给日志方法。这些信息将被格式化，并与日志消息一起显示：
```
facades.Log.WithFields(logrus.Fields{
	"goravel": "framework",
}).Debug("web")
```

## 创建自定义通道

如果你想定义一个完全自定义的通道，你可以在 `config/logging.php` 配置文件中指定 `custom` 驱动类型。
然后包含一个 `via` 选项，实现一个 `support.Logger` 结构：
```
//CustomTest
type CustomTest struct {
}

func (custom CustomTest) Handle(configPath string) (logrus.Hook, error) {
	logPath := facades.Config.GetString(configPath + ".path")

	return lfshook.NewHook(
		logPath,
		&formatters.General{},
	), nil
}

//logging 配置
"custom": map[string]interface{}{
    "driver": "custom",
    "via":    CustomTest{},
    "path":   "storage/logs/goravel-custom.log",//选填
	"level":  facadesConfig.Env("LOG_LEVEL", "debug"),//选填
},
```

### 更多使用方法

详见 [sirupsen/logrus](https://github.com/sirupsen/logrus)